\section*{Источники и решения}

\subsection*{Укрепление сетки}

Эту интересную (и, возможно, практически полезную) головоломку подкинул мне геометрический гуру Боб Коннелли из Корнелла; она основана на работе Этана Болкера и Генри Крапо \cite{bolker-crap}.


\begin{figure}[ht!]
\centering
\includegraphics[scale=1]{pics/lattice2}
\caption{Недоукреплённая сетка и её граф.}
\label{pic:lattice2}
\end{figure}

\begin{figure}[b!]
\centering
\includegraphics[scale=1]{pics/lattice3}
\caption{Полностью укреплённая сетка и её граф.}
\label{pic:lattice3}
\end{figure}

Задачу полезно перевести на язык графов, но надо это сделать не самым очевидным образом (не нужно смотреть на граф с вершинами в сочленениях стержней).
Для этого предположим, что скобы установлены;
рассмотрим граф $G$, вершины которого соответствуют строкам квадратов и столбцам квадратов.
Каждое ребро $G$ соответствует строке и столбцу, пересекающимся по закреплённому квадрату, так что количество рёбер $G$ такое же, как и количество использованных скоб.
Сетка, изображённая на рис. \ref{pic:lattice1}, показана снова, но с её графом, на рис. \ref{pic:lattice2}.

Если строка и столбец смежны в $G$, то все вертикальные стержни в этой строке обязаны быть перпендикулярными к горизонтальным стержням в этом столбце.
Если $G$ --- связный граф (что означает то, что существует путь от любой вершины к любой другой), то все горизонтальные стержни должны быть перпендикулярны всем вертикальным.
Таким образом, все горизонтальные стержни параллельны друг другу, и аналогично для вертикальных.
Теперь ясно, что сетка жёсткая.

С другой стороны, предположим, что граф несвязен, и пусть $C$ будет компонентой, то есть связанным фрагментом $G$, который не имеет рёбер к остальной части $G$.
Тогда ничто не мешает любому вертикальному стержню в строке $C$ или любому горизонтальному стержню в столбце $C$ сгибаться относительно других стержней в сетке.
Таким образом, жёсткость в точности означает, что граф $G$ связен.
Поскольку $G$ имеет $2n$ вершин, он должен иметь как минимум $2n - 1$ ребро, чтобы быть связным (вы можете доказать это по индукции, если для вас это новость).
Следовательно, чтобы сделать сетку жёсткой, нужно как минимум $2n - 1$ скоб.

Однако обратите внимание скобы нельзя ставить где попало.
На рисунке 21 показана полностью закреплённая сетка $3 \times 3$ и её граф.
Попробуйте подсчитать число способов сделать сетку $3 \times 3$ жёсткой с минимальным числом (пятью) скобами.
Теорема теории графов (о том, что у каждого связного графа есть связный подграф, называемый остовым деревом, с минимальным числом рёбер) говорит нам, что если более чем $2n - 1$ квадратов закреплены и сетка жёсткая, то существуют способы удалить все, кроме $2n - 1$ скоб, сохранив жёсткость.

\subsection*{Путешествие по острову}

Вариант этой головоломки был отобран для веб-страницы «The Puzzle Toad», упомянутой выше, из книги «Московские математические олимпиады» Г. А. Гальперина и А. К. Толпыго \cite{galperin-tolpygo}.

Между перекрёстками текущее состояние Алоисия можно охарактеризовать тройкой, состоящей из ребра, на котором он находится, направления движения по нему и типа последнего поворота (вправо или влево).
Поскольку таких троек конечное количество, настанет момент, когда Алоисий впервые попадёт в одну и ту же тройку; это может произойти только на его стартовом ребре!

\begin{addedbytheeditors}
\textbf{Редакторам:} Наверно стоит добавить пару слов об обратом ходе.
\end{addedbytheeditors}


\subsection*{Провода под Гудзоном}

Это вариация головоломки Мартина Гарднера, иногда называемой проблемой Грэма --- Нолтона.
Для электриков это задача идентификации проводов.
В версии Гарднера можно было замыкать любое число проводов на любом конце и проверять их на любом конце.
Следующее решение было найдено в книге Роланда Спрэга \cite{sprague} и также в недавней статье трёх молодых компьютерных учёных: Навина Гойала, Сачина Лодхи и С. Мутукришнана \cite{goyal-lodha-muthukrishnan}; оно удовлетворяет нашим дополнительным ограничениям и включает только две операции на каждом конце (таким образом, три переправы через реку, не считая дополнительных переправ для размыкания проводов перед их использованием).
Однако решение не единственное, поэтому даже если ваше трёхпереправное решение отличается, оно может быть таким же хорошим.

Обозначим через $w_1$, $w_2, \dots, w_{50}$ провода на западном берегу,
и $e_1, \dots, e_{50}$ на восточном. %??? n>50
При первом посещении западного берега, соединим $w_1$ с $w_2$, $w_3$ с $w_4$, $w_5$ с $w_6$ и так далее, но не будем соединять послднюю пару $w_{49}$ и $w_{50}$.
Затем проверим пары концов проводов на восточном берегу, пока не обнаружим все пары.
Например, мы можем обнаружить, что $e_4$ и $e_{29}$ связаны, $e_2$ и $e_{15}$ связаны, $e_8$ и $e_{31}$ связаны и так далее, а в конце концов, что $e_{12}$ и $e_{40}$ --- без пары.
Затем мы возвращаемся к западному концу, развязываем все пары и связываем вместе $w_2$ и $w_3$, $w_4$ и $w_5$ и так далее, пока все, кроме $w_1$ и $w_{50}$, не будут спарены.
Наконец, мы проверяем пары на восточном конце, пока не обнаружим все соединённые пары концов.
Продолжая пример, новые пары могут включать в себя $e_{12}$ и $e_{15}$, $e_{29}$ и $e_2$, и $e_4$ и $e_{31}$, а $e_{40}$ и $e_8$ будут холостяками.

Удивительно, этой простой процедуры достаточно для идентификации всех проводов!

Заметим, что один восточный конец провода, который был спарен в первый раз, но не во второй (в нашем примере это $e_8$), должен принадлежать $w_1$.
Восточный конец провода, с которым $e_8$ был спарен в первый раз (здесь, $e_{31}$), следовательно, должен принадлежать $w_2$.
Но тогда $w_3$ должен принадлежать восточному концу провода, с которым $e_{31}$ был спарен во второй раз, а именно $e_4$.
Продолжая таким образом, мы находим, что $w_4$ принадлежит $e_{29}$ (партнёру $e_4$ на первом круге), $w_5$ принадлежит $e_2$ (партнёру $e_{29}$ на втором круге) и так далее.
В конце концов последовательность завершится тем, что $w_{50}$ принадлежит $e_{40}$.

Если бы количество проводов (скажем, $n$) было нечётным, мы оставили бы только $w_n$ вне пар в первый раз, а $w_1$ во второй раз; остальное работает примерно так же.

\subsection*{Жуки на четырёх прямых}

Эту головоломку мне подкинул Мэтт Бэйкер из Технологического института Джорджии.
Иногда её называют \emph{задачей четырёх путешественников};
ещё она есть на веб-сайте «Cut the knot» \cite{cut-the-knot}.

В наиболее изысканном решении, которое мне известно, требуется, подняться из плоскости в пространство, добавив ось времени.
Предположим, что каждая пара жуков встречается, кроме (возможно) третьего и четвёртого.
Проведём ось времени перпендикулярно плоскости с жуками, и пусть $g_i$ будет графиком $i$-го жука в пространстве.
Поскольку каждый жук ползёт с постоянной скоростью, каждый такой график является прямой;
его проекция на плоскость с жуками --- это та самая прямая, по которой ползёт наш жук.
Заметим, что два жука встречаются тогда (и только тогда) когда их графики пересекаются.

Прямые $g_1$, $g_2$ и $g_3$ находятся в одной плоскости, так как все три их пары пересекаются.
Tо же самое относится к тройке  $g_1$, $g_2$ и $g_4$.
Следовательно, все четыре графика лежат в одной плоскости прямых $g_1$ и $g_2$.
Конечно же $g_3$ и $g_4$ не параллельны, ведь не параллельны их проекции.
Таким образом, эти две прямые пересекаются в своей плоскости,
а это значит, что третий жук обязан встретить четвёртого.

\subsection*{Вменяемые мыслители}

Эта головоломка предложена Сашей Разборовым из Института перспективных исследований;
он сказал, что она была кандидатом на Международной математической олимпиады, но была отклонена как слишком сложная.
Она была рассмотрена и решена в статье Э. Голеса и Х. Оливоса \cite{goles-olivos}.

Чтобы доказать, что мнения в конечном итоге либо зафиксированные, либо циклические каждую вторую неделю, думайте о каждом знакомстве между гражданами как о паре стрелок, по одной в каждом направлении.
Назовём стрелку \emph{обидной}, если мнение гражданина вначале стрелки отличается от мнения гражданина в конце стрелки на \emph{следующей неделе}.

Рассмотрим стрелки, выходящие от гражданина Клайда на неделе $t - 1$, во время которой (скажем) Клайд выступает за торговый центр.
Предположим, что из них $m$ обидные.
Если Клайд все ещё (или снова) за торговый центр на неделе $t + 1$, то количество $n$ обидных стрелок, указывающих на Клайда на неделе $t$, будет точно равно $m$.

Однако, если Клайд против торгового центра на неделе $t + 1$, $n$ будет строго меньше $m$, так как большинство его друзей были против торгового центра на неделе $t$.
Следовательно, большинство стрелок от Клайда были обидными на неделе $t - 1$, а теперь только меньшинство стрелок к Клайду на неделе $t$ обидные.

Конечно всё это остаётся верным и если Клайд был против торгового центра на неделе $t - 1$.

Но вот в чем дело: каждая стрелка начинается у кого-то на неделе $t - 1$ и заканчивается у кого-то на неделе $t$. Таким образом, общее количество обидных стрелок не может увеличиваться между неделями $t - 1$ и $t$, и, на самом деле, будет строго уменьшаться, за исключением того случая, когда каждый гражданин имел такое же мнение на неделе $t - 1$, как и на неделе $t + 1$.

Однако, общее число обидных стрелок в данную неделю не может бесконечно уменьшаться и в конечном итоге должно достичь некоторого числа $k$, с которого оно никогда не опустится.
В этот момент каждый гражданин либо сохранит своё мнение навсегда, либо будет меняться туда-сюда каждую неделю.

Задачу можно значительно обобщить, например, добавив веса к вершинам (что означает, что мнения некоторых граждан более ценны, чем мнения других), разрешив петли (граждане, которые учитывают свои собственные текущие мнения), разрешив механизмы разрешения конфликтов и даже разрешив различные пороги для смены мнений в пользу торгового центра и против него.

\subsection*{Лемминг на шахматной доске}

Эту замечательную головоломку придумал Кевин Пурбху, будучи ещё старшекласником в Торонто.
С тех пор Пурбху получил защитил диссертацию по математике в Университете Калифорнии в Беркли;
сейчас он постдок в Университете Британской Колумбии
и занимается чем-то под названием \emph{тропическая геометрия}.
Сам я узнал головоломку от Рави Вакилома, из Стэнфордского университета.

Лемминг действительно обречён.
Один из способов понять это (обнаруженный независимо Вакилом и мной) --- представить, что лемминг может перемещаться на любую соседнюю клетку, но должен повернуться в направлении стрелки, которую он там обнаружит.
Затем, что лемминг не может повернуться на 360°, обойдя цикл;
если бы он мог, то можно уменьшать цикл, на котором он это делает, пока не придём к противоречию.
Но настоящий лемминг, если он хочет остаться на доске, в конечном итоге должен обойти цикл, и когда это произойдёт, ему придётся сделать поворот на 360°.

Собственное решение Пурбху, ещё со школьных дней, основано на индукции.
Если лемминг остаётся на доске, он, как мы уже отметили, в конечном итоге обойдёт цикл.
Пусть $C$ --- цикл с наименьшей возможной площади (на любой доске), на котором это может произойти; будем считать, что леминг обходит его по часовой стрелке.
Обрежьте всю доску до $C$ и её внутренности, затем поверните все стрелки на 45° по часовой стрелке, и это приведёт к меньшему циклу!

\begin{addedbytheeditors}
Эта задача напоминает следующую: \emph{Векторное поле без нулей на плоскости не может касаться некоторой замкнутой кривой в каждой её точке.}
Более, используя разбиение единицы несложно свести головоломку к этому утверждению про векторные поля.
Решение получится сложней, но полезней.
\end{addedbytheeditors}

