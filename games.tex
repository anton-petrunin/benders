\chapter{Игры и стратегии}

\setlength{\epigraphwidth}{.63\textwidth}
\epigraph{Если не найти игры, в которую стоит играть, тогда придумайте новую. 
}{— Энтони Д'Анджело, «Справочник абитуриента»}

Даже если б мы не играли в игры, то нам пришлось бы их придумать.
Ведь про многие математические задачи удобно думать как про игры.
Мы уже обсудили несколько задач на поиск лучшей стратегии, и сейчас обсудим ещё несколько.

Начнём с простого вопроса о покере --- игре, в которую люди серьёзно играют.

\subsection*{Покер: быстрый вопрос}\rindex{Покер: быстрый вопрос}

Какой фул-хаус самый лучший?

\parit{Примечания.}
Можете считать, что вы играете в обычный покер \emph{стад} обычной колодой с пятью партнёрами,
а Господь Бог оказался вашим должником.
В результате у вас есть право на фул-хаус --- можно получить любой фул-хаус, какой только пожелаете.
Какой лучше всего выбрать?

\subsection*{Восстановление многочлена}\rindex{Восстановление многочлена}

Дельфийский оракул загадал многочлен $p$ с неотрицательными целочисленными коэффициентами (от переменной $x$).
Если назвать любое целое число $x$, то оракул выдаст значение $p(x)$.

Сколько запросов нужно сделать, чтобы найти $p$?

\subsection*{Спасите наши души}\rindex{Спасите наши души}

Дан лист бумаги с рядом из $n$ пустых клеток.
Тристан и Изольда ходят поочерёдно, записывая по букве $S$ или $O$ в незанятую клетку.
Побеждает тот, кто первым напишет $SOS$ в последовательных клетках.
Для каких значений $n$ у второго игрока (Изольды) есть выигрышная стратегия?

\subsection*{Пасьянс с шарами}\rindex{Пасьянс с шарами}

Перед вами урна с некоторым числом зелёных и красных шаров (по крайней мере, по одному каждого цвета).
На первом раунде вы вытаскиваете шар за шаром вслепую (всегда случайным образом), пока не вытянете шар другого цвета; этот шар затем возвращается в урну.

На втором и последующих раундах процесс повторяется, пока урна не опустеет.
Если последний вытянутый шар зелёный, то вы победили.

Сколько зелёных и красных шаров следует положить в урну, чтобы максимизировать вероятность выигрыша?

\subsection*{Пиратская демократия}\rindex{Пиратская демократия}

Сотня пиратов на корабле захватила сундук с золотыми монетами и решила поделить их демократически.
Каждый пират, по порядку ранга от капитана до самого младшего, вносит предложение, кто и сколько монет получит.
Все пираты, включая того, кто выдвигает предложение, голосуют.
Для принятия предложения достаточно половины голосов.
В этом случае монеты распределяются соответственно, и процесс завершается.
Если же предложение отвергнуто, то предлагавшего выкидывают за борт, и далее предложение вносит следующий по рангу.

Пираты коварны, жадн\'{ы}, осторожны и мыслят очень логично.
Главное для них --- не попасть за борт.
Если у пирата нет предпочтений между двумя вариантами, то он действует непредсказуемо.

Сколько монет должно быть в сундуке, чтобы капитан смог гарантированно выжить?

\subsection*{Волшебные рамки}\rindex{Волшебные рамки}

Дана обычная красно-чёрная шахматная доска $8 \times 8$ и две \emph{волшебные рамки},  $2 \times 2$ и $3 \times 3$.
Если аккуратно приложить такую рамку к сетке шахматной доски, то $4$ или $9$ покрытых клеток тут же сменят цвета.

Можно ли таким образом достичь всех $2^{64}$ возможных расцветок доски?

\subsection*{Больше рамок на меньшей доске}\rindex{Больше рамок на меньшей доске}

Теперь у нас доска $6 \times 6$, с целым числом в каждой из $36$ клеток.
Разрешается выбрать любой подквадрат $2 \times 2$, $3 \times 3$, $4 \times 4$, $5 \times 5$ или $6 \times 6$ и добавить единицу к каждому числу внутри него.
Можно ли из любой начальной конфигурации достичь конфигурации со всеми числами, кратными $3$?


\medskip

Покер и многие другие игры включают в себя элемент блефа, который бывает довольно сложным.
В следующей игре мы разберём основы блефа.

\subsection*{Простой блеф}\rindex{Простой блеф}

Рассмотрим следующую простую игру в блеф.
Луиза и Джереми делают начальную ставку по одному доллару каждый.
Далее Луиза снимает и смотрит на карту из перетасованной колоды.
Она может поднять ставку на 10 долларов (добавив свои 10 долларов в банк) или оставить ставку как есть.

Если Луиза не поднимает ставку, то она выигрывает банк, если у неё на руках пика.
В противном случае проигрывает.

Если Луиза поднимает ставку, то Джереми может проверить (добавив свои 10 долларов в банк) или же сбросить свои карты.
Если Джереми сбрасывает карты, то Луиза забирает деньги в банке, тем самым выигрывая доллар Джереми.
Если же Джереми проверяет и у Луизы пика, то Луиза снова забирает банк, на этот раз с 11 долларами Джереми.
Ну а если карта не пика, то банк забирает Джереми.

Кому выгодна эта игра?
А что, если вместо 10 долларов выбрать другое повышение ставки?

\subsection*{Китайский Ним}\rindex{Китайский Ним}

На столе лежат две кучки бобов.
Алекс должен взять несколько бобов либо из одной кучки, либо по одинаковому числу бобов из обеих.
Затем Бет делает ход по тем же правилам.
Так они чередуют ходы до тех пор, пока один из игроков не выиграет, взяв со стола последний боб.

Какова правильная стратегия в этой игре?
Что если Алекс начинает с кучек с 12\,000 и 20\,000 бобов?
А что если с 12\,000 и 19\,000?
